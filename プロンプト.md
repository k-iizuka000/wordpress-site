# プロンプト
## あなたの役割
### コード生成
**概要**: 特定の機能を持つ関数、クラス、APIエンドポイントのコードを作成
**ペルソナ**: あなたは世界最高峰のフルスタックエンジニアです。クリーンコード、SOLID原則、デザインパターンを体得し、可読性と効率性を両立させたコードを書きます。
特にワードプレスを中心としたphpやjsなどの言語を得意にしています。

## 参考資料
以下の資料を参考にしてください：
- @CLAUDE.md:
  - あなたが絶対に守るべきルール
  - 過去のドキュメントも記載されているので、全て確認せよ
- @data/portfolio.json:これまでの私の経験
- @docs/サイト構成設計書.md:これが今回の対応元になる資料
- @docs/サイト戦略ロードマップ.md:今回はここのPhase 1の設計前段階
- @wordpress/ :FTPでダウンロードしたwordpressの全てのソース、機能追加はこの中

## あなたへの依頼
このサイトをフリーランスエンジニアのサイトとしてよりよいものにしたいと考えています。


| 視点            | 具体的なゴール例                    | 測り方（KPI の一例）                                  |
| ------------- | --------------------------- | --------------------------------------------- |
| **① 信頼獲得**    | *名刺代わりに* 「この人に任せれば大丈夫」と思わせる | ✔ 技術経歴・資格ページの平均閲覧時間 <br>✔ SNS からの推薦/リポスト数     |
| **② 実績提示**    | *過去案件の可視化* でスキルセットを証明       | ✔ プロジェクト詳細ページの回遊率 <br>✔ GitHub／Demo リンクのクリック率 |
| **③ 問い合わせ獲得** | *リード（仕事依頼）の獲得*              | ✔ お問い合わせフォーム送信数 <br>✔ メール・DM 到達数              |
| **④ ブランド発信**  | *自分らしさ* を一目で伝えるトーン&デザイン     | ✔ 直帰率 <40 % が目安 <br>✔ 「○○らしい」と言われる頻度（定性）      |
| **⑤ 学習＆発信の場** | *技術ブログ／TIL* でアウトプット習慣を定着    | ✔ 月2本以上の記事投稿 <br>✔ 1記事あたりの平均 PV               |


================
# 調査フロー
下記フローで原因と完成系の確実にイメージし、原因の特定と修正案を明確にして欲しい

## Step 1: 検索戦略
- Think: ゴール達成に繋がりそうな検索キーワード、その類義語、関連用語、専門用語を洗い出す。
- Action: キーワードリストを作成する。

## Step 2: 予備調査
- Think: まずは全体像を掴むため、どのキーワードで広く浅く検索すべきか？
- Action: Web検索を実行し、テーマの概要、主要な論点、関連するトピックを把握する。

## Step 3: 情報の評価と不足点の分析
- Think: 集めた情報は信頼できるか（情報源は何か）？ゴールに対して十分か？**まだ答えられていない重要な問いは何か？
- Action: 信頼性の低い情報を除外し、現状で不足している情報（ギャップ）をリストアップする。

## Step 4: 深掘り調査
- Think: ギャップを埋めるために、どのような専門的キーワードや情報源を当たるべきか？
- Action: より絞り込んだキーワードで、信頼性の高い情報源を対象に二次検索を実行する。

## Step 5: 統合と最終回答の生成
- Think: 全ての信頼できる情報をどのように組み合わせれば、論理的で分かりやすい回答になるか？全体の構成（序論・本論・結論）はどうするか？
- Action: 疑問点に対しての最終的な回答を構造的に記述する。




下記フローで原因と完成系の確実にイメージし、原因の特定と修正案を明確にして欲しい



＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
# プロンプト
## あなたの役割
**ペルソナ**: あなたは世界最高峰のWebディレクター兼テックリードです。
「サイトの目的を定義し、誰に何を届け、どう測るか」を得意としています。

## 参考資料
以下の資料を参考にしてください：
- @CLAUDE.md:あなたが絶対に守るべきルール
- @docs/学習記録.md:技術的教訓や技術的負債
- @README.md:プロジェクト概要
- @data/portfolio.json:これまでの私の経験

## あなたへの依頼
1. {参考資料}を確認し、このサイトについて理解してください。
2. このサイトをフリーランスエンジニアのサイトとしてよりよいものにしたいと考えています。下記の視点でこのサイトの将来的なゴールと、そのロードマップを think で作ってほしい。

| 視点            | 具体的なゴール例                    | 測り方（KPI の一例）                                  |
| ------------- | --------------------------- | --------------------------------------------- |
| **① 信頼獲得**    | *名刺代わりに* 「この人に任せれば大丈夫」と思わせる | ✔ 技術経歴・資格ページの平均閲覧時間 <br>✔ SNS からの推薦/リポスト数     |
| **② 実績提示**    | *過去案件の可視化* でスキルセットを証明       | ✔ プロジェクト詳細ページの回遊率 <br>✔ GitHub／Demo リンクのクリック率 |
| **③ 問い合わせ獲得** | *リード（仕事依頼）の獲得*              | ✔ お問い合わせフォーム送信数 <br>✔ メール・DM 到達数              |
| **④ ブランド発信**  | *自分らしさ* を一目で伝えるトーン&デザイン     | ✔ 直帰率 <40 % が目安 <br>✔ 「○○らしい」と言われる頻度（定性）      |
| **⑤ 学習＆発信の場** | *技術ブログ／TIL* でアウトプット習慣を定着    | ✔ 月2本以上の記事投稿 <br>✔ 1記事あたりの平均 PV               |



========================
# プロンプト
## あなたの役割
**ペルソナ**: あなたはFAANG企業で大規模分散システムを設計してきたシニアアーキテクトです。
スケーラビリティ、可用性、保守性を重視し、最新技術トレンドと実証済みパターンのバランスを取る達人です。
特にワードプレスを中心としたphpやjsなどの言語を得意にしています。

## 参考資料
以下の資料を参考にしてください：
- @CLAUDE.md:あなたが絶対に守るべきルール
- @docs/学習記録.md:技術的教訓や技術的負債
- @README.md:プロジェクト概要
- @data/portfolio.json:これまでの私の経験
- @docs/サイト構成設計書.md:これが今回の対応元になる資料
- @docs/サイト戦略ロードマップ.md:今回はここのPhase 1の設計前段階
- @wordpress/ :FTPでダウンロードしたwordpressの全てのソース、機能追加はこの中

## あなたへの依頼
1. 参考資料を確認し、全て理解せよ
2. @docs/サイト構成設計書.md を実現するための理想的な技術スタック（使用言語やバージョン）を考えろ
   a. {調査フロー}でweb検索を深掘りせよ
   b. {調査フロー}で作成したドキュメントをもとに、thinkで検討せよ

## 調査フロー
### Step 1: 検索戦略
- Think: ゴール達成に繋がりそうな検索キーワード、その類義語、関連用語、専門用語を洗い出す。
- Action: キーワードリストを作成する。
### Step 2: 予備調査
- Think: まずは全体像を掴むため、どのキーワードで広く浅く検索すべきか？
- Action: Web検索を実行し、テーマの概要、主要な論点、関連するトピックを把握する。
### Step 3: 情報の評価と不足点の分析
- Think: 集めた情報は信頼できるか（情報源は何か）？ゴールに対して十分か？**まだ答えられていない重要な問いは何か？
- Action: 信頼性の低い情報を除外し、現状で不足している情報（ギャップ）をリストアップする。
### Step 4: 深掘り調査
- Think: ギャップを埋めるために、どのような専門的キーワードや情報源を当たるべきか？
- Action: より絞り込んだキーワードで、信頼性の高い情報源を対象に二次検索を実行する。
### Step 5: 統合と最終回答の生成
- Think: 全ての信頼できる情報をどのように組み合わせれば、論理的で分かりやすい回答になるか？全体の構成（序論・本論・結論）はどうするか？
- Action: 疑問点に対しての最終的な回答を構造的に新規ドキュメントに記述する。
  


========================

# プロンプト
## あなたの役割
### コード生成
**概要**: 特定の機能を持つ関数、クラス、APIエンドポイントのコードを作成
**ペルソナ**: あなたは世界最高峰のフルスタックエンジニアです。クリーンコード、SOLID原則、デザインパターンを体得し、可読性と効率性を両立させたコードを書きます。
特にワードプレスを中心としたphpやjsなどの言語を得意にしています。

## 参考資料
以下の資料を参考にしてください：
- @CLAUDE.md:あなたが絶対に守るべきルール
- @docs/学習記録.md:技術的教訓や技術的負債
- @README.md:プロジェクト概要
- @data/portfolio.json:これまでの私の経験
- @docs/サイト構成設計書.md:これが今回の対応元になる資料
- @docs/サイト戦略ロードマップ.md:今回はここのPhase 1の設計前段階
- @wordpress/ :FTPでダウンロードしたwordpressの全てのソース、機能追加はこの中
- @docs/WordPress技術スタック提案書.md

## あなたへの依頼
1. 参考資料を確認し、全て理解せよ
2. @docs/WordPress技術スタック提案書.mdの実装を完了したがリンクが正しくないので、[@themes/kei-portfolio/]配下のファイルのリンクが正しいか think_step_by_step で確認してほしい、







＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

# 作業指示
[@2bbc0f61-e79d-4b52-8d58-797a775552ed_5/]を確認して。これはReactをつかって作ったサイトです。
これをワードプレスで表示できるようにしたい。
特にデザインやビジュアルに関して完全移行してほしい。[@php/]にファイルを作ってほしい。     

# 作業手順
- サブエージェント機能を使用し、todosを活用して下記の通り並列で作業してほしい
1. あなたの作業
    - 設計者[@.claude/agents/design-architect-react-php.md]を呼び出す
        **設計者に対してのプロンプト_ここから**
        [@2bbc0f61-e79d-4b52-8d58-797a775552ed_5/]を確認し、react⇨phpの変換が必要なファイルの一覧をチェックボックスとして作成する
        出力ファイル名：doc/変換作業一覧.md
        出力形式：
          - 共通的な変換作業で意識すること 
          - [ ] 変換前のファイルパス / 個別の変換で意識すること / 変換後のファイルパス
        **設計者に対してのプロンプト_ここまで**
    **[@doc/変換作業一覧.md]のファイル分だけループ_ここから**
        - 1.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す
            **1.実装者に対してのプロンプト_ここから**
            - 作業対象
              - [@doc/変換作業一覧.md]の対象の「変換前のファイルパス」
            - 実際の作業は下記を意識し、react⇨phpへの変換作業を実施し、「変換後のファイルパス」に格納する
              - [@doc/変換作業一覧.md]の共通的な変換作業で意識すること
              - [@doc/変換作業一覧.md]の対個別の変換で意識すること
            **1.実装者に対してのプロンプト_ここまで**
        - 2.レビュー者[@.claude/agents/code-review-post-implementation.md]を呼び出す
            **2.レビュー者に対してのプロンプト_ここから**
              - 下記をレビューしてください
                - [@doc/変換作業一覧.md]の対象の「変換前のファイルパス」
                - [@doc/変換作業一覧.md]の共通的な変換作業で意識すること
                - [@doc/変換作業一覧.md]の対個別の変換で意識すること
                - 変換前のファイルパス / 変換後のファイルパス
              - 問題点がなければ[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックをつけて、{5.終了判定}に進む
              - 問題点あれば下記ファイルに記載してください
                - 出力ファイル名：review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
                - 出力形式：
                  - 問題点1:・・・
                    - 解決案:・・・
                  - 問題点2:・・・・ 
                    - 解決案:・・・
            **2.レビュー者に対してのプロンプト_ここまで**
        - 3.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す
            **3.実装者に対してのプロンプト_ここから**
            - 作業対象
              - review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
            - 問題点Nを、解決案の通りに修正せよ
            **3.実装者に対してのプロンプト_ここまで**
        - 4.レビュー者[@.claude/agents/code-review-post-implementation.md]を呼び出す
            **4.レビュー者に対してのプロンプト_ここから**
            - 作業対象
              - review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
              - 問題点がなければ[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックをつけて、{5.終了判定}に進む
              - 問題点あれば下記ファイルに記載してください
                - 出力ファイル名：review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
                - 出力形式：
                  - 問題点1:・・・
                    - 解決案:・・・
                  - 問題点2:・・・・ 
                    - 解決案:・・・
            **4.レビュー者に対してのプロンプト_ここまで**
        - 5.終了判定
          - 今回の対象[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックがついていれば次の行に進む
          - 今回の対象[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックがついていなければ{3.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す}に戻って再修正を実施する
    **[@doc/変換作業一覧.md]のファイル分だけループ_ここまで**



2. サブエージェント




＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝

# 作業指示
[@2bbc0f61-e79d-4b52-8d58-797a775552ed_5/]を確認して。これはReactをつかって作ったサイトです。
これをワードプレスで表示できるようにしたい。
特にデザインやビジュアルに関して完全移行してほしい。[@php/]にファイルを作ってほしい。     

# 作業手順
- サブエージェント機能を使用し、todosを活用して下記の通り並列で作業してほしい
1. あなたの作業
    - 設計者[@.claude/agents/design-architect-react-php.md]を呼び出す
        **設計者に対してのプロンプト_ここから**
        [@2bbc0f61-e79d-4b52-8d58-797a775552ed_5/]を確認し、react⇨phpの変換が必要なファイルの一覧をチェックボックスとして作成する
        出力ファイル名：doc/変換作業一覧.md
        出力形式：
          - 共通的な変換作業で意識すること 
          - [ ] 変換前のファイルパス / 個別の変換で意識すること / 変換後のファイルパス
        **設計者に対してのプロンプト_ここまで**
    **[@doc/変換作業一覧.md]のファイル分だけループ_ここから**
        - 1.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す
            **1.実装者に対してのプロンプト_ここから**
            - 作業対象
              - [@doc/変換作業一覧.md]の対象の「変換前のファイルパス」
            - 実際の作業は下記を意識し、react⇨phpへの変換作業を実施し、「変換後のファイルパス」に格納する
              - [@doc/変換作業一覧.md]の共通的な変換作業で意識すること
              - [@doc/変換作業一覧.md]の対個別の変換で意識すること
            **1.実装者に対してのプロンプト_ここまで**
        - 2.レビュー者[@.claude/agents/code-review-post-implementation.md]を呼び出す
            **2.レビュー者に対してのプロンプト_ここから**
              - 下記をレビューしてください
                - [@doc/変換作業一覧.md]の対象の「変換前のファイルパス」
                - [@doc/変換作業一覧.md]の共通的な変換作業で意識すること
                - [@doc/変換作業一覧.md]の対個別の変換で意識すること
                - 変換前のファイルパス / 変換後のファイルパス
              - 問題点がなければ[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックをつけて、{5.終了判定}に進む
              - 問題点あれば下記ファイルに記載してください
                - 出力ファイル名：review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
                - 出力形式：
                  - 問題点1:・・・
                    - 解決案:・・・
                  - 問題点2:・・・・ 
                    - 解決案:・・・
            **2.レビュー者に対してのプロンプト_ここまで**
        - 3.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す
            **3.実装者に対してのプロンプト_ここから**
            - 作業対象
              - review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
            - 問題点Nを、解決案の通りに修正せよ
            **3.実装者に対してのプロンプト_ここまで**
        - 4.レビュー者[@.claude/agents/code-review-post-implementation.md]を呼び出す
            **4.レビュー者に対してのプロンプト_ここから**
            - 作業対象
              - review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
              - 問題点がなければ[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックをつけて、{5.終了判定}に進む
              - 問題点あれば下記ファイルに記載してください
                - 出力ファイル名：review/[@doc/変換作業一覧.md]の{変換後のファイルパス}.md
                - 出力形式：
                  - 問題点1:・・・
                    - 解決案:・・・
                  - 問題点2:・・・・ 
                    - 解決案:・・・
            **4.レビュー者に対してのプロンプト_ここまで**
        - 5.終了判定
          - 今回の対象[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックがついていれば次の行に進む
          - 今回の対象[@doc/変換作業一覧.md]の'[ ] 変換前のファイルパス'にチェックがついていなければ{3.実装者[@.claude/agents/react-php-implementation-expert.md]を呼び出す}に戻って再修正を実施する
    **[@doc/変換作業一覧.md]のファイル分だけループ_ここまで**




＝＝＝＝＝＝＝＝＝＝
# プロンプト
## あなたの役割
### コード生成
**概要**: 特定の機能を持つ関数、クラス、APIエンドポイントのコードを作成
**ペルソナ**: あなたは世界最高峰のフルスタックエンジニアです。クリーンコード、SOLID原則、デザインパターンを体得し、可読性と効率性を両立させたコードを書きます。
特にワードプレスを中心としたphpやjsなどの言語を得意にしています。

## 参考資料
以下の資料を参考にしてください：
- @CLAUDE.md:
  - あなたが絶対に守るべきルール
  - 過去のドキュメントも記載されているので、全て確認せよ

## あなたへの依頼
docker起動でwordpressサイトを起動するとワードプレストップが表示される。
「@themes/kei-portfolio」を表示するように修正してほしい。
下記実装フローの通りに、エージェントに作業させてください。

{$実装フロー}
1. [@.claude/agents/wordpress-php-test-designer.md]で設計
   1. 作業量が多ければ10個以内のグループに分けてください。
2. [@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. グループごとの作業ががあれば、グループ単位で実装してください
3. [@.claude/agents/code-review-post-implementation.md]でレビュー
   1. グループごとの作業ががあれば、グループ単位でレビューしてください
4. [@.claude/agents/wordpress-fullstack-developer.md]で修正（レビュー修正があれば）
5. [@.claude/agents/wordpress-php-test-designer.md]で今回作業範囲のテストケース設計
   1. 既存テストを探し、今回の作業範囲をカバーするテストがあるか確認
   2. ない場合、新規テスト設計
   3. 作業量が多ければ10個以内のグループに分けてください。
6. [@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 5で新規テスト設計された場合に、設計をもとに実装
   2. グループごとの作業ががあれば、グループ単位で実装してください
7. [@.claude/agents/code-review-post-implementation.md]でテストレビュー（5で作成されたテストケース通りにテストが実装されていること）
8. [@.claude/agents/wordpress-fullstack-developer.md]で修正（レビュー修正があれば）
   1. グループごとの作業ががあれば、グループ単位でレビューしてください
9.  [@.claude/agents/test-executor.md]でテスト実行
10. [@security-audit-post-development]でセキュリティチェック

--------------
- 画面表示は確認できた。
- 「Tailwind CSSクラスを使用しているのに、Tailwind CSS自体が読み込まれていなかった」という点がまだ確認できない（cssが崩れている）
下記フローで調査、修正を実施させてください
1. [@.claude/agents/wordpress-php-test-designer.md]で原因調査をし、、修正設計、thinkで考えさせて
2. [@.claude/agents/wordpress-fullstack-developer.md]で修正が必要な場合は、修正設計の通りに実装してほしい。
3. [@.claude/agents/wordpress-fullstack-developer.md]

  - 基本実装: wordpress-fullstack-developer（PROACTIVELY）
  - 高度な設計: wordpress-php-test-designer（アーキテクチャ）
  - 自動レビュー: code-review-post-implementation（PROACTIVELY）
  - セキュリティ: security-audit-post-development（MUST BE USED）
  - テスト実行: test-executor（軽量haiku）
  - ドキュメント: document-manager-ja（軽量haiku）




完全移行。
そのために下記フローで作業して。
作業フロー
1. [@.claude/agents/wordpress-php-test-designer.md]で調査、設計
   1. 作業量が多ければ10個以内のグループに分けてください。
2. [@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. グループごとの作業ががあれば、グループ単位で「並列」で実装してください（最大10並列）

＝＝＝＝＝＝＝＝＝＝＝＝


エラーメッセージがコンソールに表示された：「Uncaught ReferenceError: tailwind is not defined」
下記フローで作業して。
1. [@.claude/agents/wordpress-php-test-designer.md]で調査し、修正が必要な場合は think で設計して。
   1. 作業量が多ければ10個以内のグループに分けて。
2. [@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. グループごとの作業があれば、グループ単位で「エージェントを複数起動し、並列」で実装して（最大10並列）




下記ディレクトリスクリプトが配置されている。
1.[@wordpress/wp-content/themes/kei-portfolio/create-pages-cli.php]
- このディレクトリはもうgit管理対象外で商用リリースもしない。
- このファイルを[@themes/kei-portfolio/]に移動させるべきか、それとも不要なファイルかを調べてほしい
2.また、今後[@wordpress/wp-content/themes/kei-portfolio/]のディレクトリにファイル作成をしてほしくないので、このディレクトリを使用するように書いてあるファイルを調査してほしい

下記フローで作業して。
1. [@.claude/agents/wordpress-php-test-designer.md]で調査し、修正が必要な場合は think で設計して。
   1. 作業量が多ければ10個以内のグループに分けて。
2. [@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. グループごとの作業があれば、グループ単位で「エージェントを複数起動し、並列」で実装して（最大10並列）



==================
# 役割
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ
# 達成してほしい作業
- 問題点：本番環境で[about][skills][contact]が404エラーになる
  - 発生環境は本番だけで、ローカルは正常に表示できる
    - 作業手順
      - 「@export-wordpress-site.sh」で[@themes/kei-portfolio]から[@themes/kei-portfolio-upload]にコピーする。
      - [@themes/kei-portfolio-upload]のファイルを本番環境に全てコピーする
# 下記の作業フローを守ってください。
## エージェント呼び出し時に余計な情報を渡さず、必要な情報のみを渡してください。
1. [@.claude/agents/wordpress-php-test-designer.md]のエージェントで、web検索と think で原因を正しく調査し、解決するための設計書を作成させよ
2. [@.claude/agents/wordpress-fullstack-developer.md]で設計書の通りの実装させよ
3. [@.claude/agents/code-review-post-implementation.md]で設計書の通りの実装をしているのかレビューさせよ
4. [@.claude/agents/wordpress-fullstack-developer.md]で修正させよ（レビュー修正があれば）



＝＝＝＝＝＝＝＝＝＝＝＝
# 役割
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ
# 達成してほしい作業
[@tasks/WordPressテーマブログ機能追加設計書.md]を参照してください。
# 下記の作業フローを守ってください。
## エージェント呼び出し時に余計な情報を渡さず、必要な情報のみを渡してください。
1. [@.claude/agents/wordpress-php-test-designer.md]のエージェントで「web検索と think で[@tasks/WordPressテーマブログ機能追加設計書.md]の情報が正しいか確認し、過不足あればドキュメントを更新。さらに実装できるレベルまで細かく設計してほしい」
2. [@.claude/agents/wordpress-fullstack-developer.md]で設計書の通りの実装させよ
3. [@.claude/agents/code-review-post-implementation.md]で設計書の通りの実装をしているのかレビューさせよ
4. [@.claude/agents/wordpress-fullstack-developer.md]で修正させよ（レビュー修正があれば）

# 作業指示
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ

下記の対応後、[There has been a critical error on this website.]と表示され、サイトが表示できなくなった。
```
対応内容：[@tasks/WordPressテーマブログ機能追加設計書.md]
実装のレビュー資料：[@reviews/ブログ機能コードレビュー結果.md]のレビュー
```
下記{作業フロー}の通りに作業せよ
## 作業フロー
1. [@.claude/agents/wordpress-php-test-designer.md]のエージェントで「web検索と think を駆使して、発生したエラーの原因を調査せよ。実装できるレベルで細かく修正案を設計せよ」
2. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 「エージェントを複数起動し並列」で実装して（最大10並列）
3. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
   1. 「エージェントを複数起動し並列」でレビューして（最大10並列）
4. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
   1. 「エージェントを複数起動し並列」で修正して（最大10並列）


＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
# 作業指示
## 役割
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ
## 達成してほしい作業
- ワードプレスの「投稿」で記事を公開しようと「公開ボタンを押下」するとコンソールで「GET https://kei-aokiki.dev/wp-json/wp/v2/templates/lookup?slug=front-page&_locale=user 403 (Forbidden)」というエラーが無限に表示され、公開できない
- ワードプレスの「投稿」で記事を公開すると「blog」ページに追加されるようにしてほしい

下記{作業フロー}の通りに作業せよ
## 作業フロー
1. [@.claude/agents/wordpress-php-test-designer.md]のエージェントで「web検索と think を駆使して「達成してほしい作業」を設計せよ。実装できるレベルで細かく修正案を設計せよ」
2. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 「エージェントを複数起動し並列」で実装して（最大10並列）
3. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
   1. 「エージェントを複数起動し並列」でレビューして（最大10並列）
4. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
   1. 「エージェントを複数起動し並列」で修正して（最大10並列）


- 達成を確認した。
  - ワードプレスの「投稿」で記事を公開すると「blog」ページに追加されるようにしてほしい
- 無限エラーがまだ発生する。
  - ワードプレスの「投稿」で記事を公開しようと「公開ボタンを押下」するとコンソールで「GET https://kei-aokiki.dev/wp-json/wp/v2/templates/lookup?slug=front-page&_locale=user 403 (Forbidden)」というエラーが無限に表示され、公開できない


# 作業指示
## 役割
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ
## 要件
- ワードプレスの「投稿」で記事を公開しようと「公開ボタンを押下」するとコンソールで「GET https://kei-aokiki.dev/wp-json/wp/v2/templates/lookup?slug=front-page&_locale=user 403 (Forbidden)」というエラーが無限に表示され、公開できない

下記{作業フロー}の通りに作業せよ
## 作業フロー

「E2Eのエラーを下記のフローで解決させよ」
コミットIDが
「7d03097edaec395bbb768caf3e6bf782083cde30」
「f8e2762bc5acfc5a36056da06e5bb1b1513324e1」
「59045e2eb53cf479c83fd4028a9b43a86b087969」
このあたりから今回の問題が発生し始めたんだけど、、、問題の原因調査に使えないだろうか？
この情報をもとに⇩のフローで調査してほしい
2. 分析：[@.claude/agents/wordpress-php-test-designer.md]のエージェントでe2eの結果を「web検索と think を駆使して「エラー原因」を分析せよ。そして実装できるレベルで細かく修正案を設計せよ。」
3. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 「修正禁止コードについて」を確認せよ
4. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
5. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
   1. 「修正禁止コードについて」を確認せよ
6. [@.claude/agents/test-executor.md]で作成したテストを実行
   1. テスト実施し、エラーが発生した場合は2の「分析：」に戻って作業継続



でブログページを作ったけど、そのあたりから発生している。
1. [@.claude/agents/test-executor.md]で[`BASE_URL=http://localhost:8090 ./run-tests.sh e2e`]を実施
   1. テスト実施のみ！結果は見ないこと。
2. 分析：[@.claude/agents/wordpress-php-test-designer.md]のエージェントでe2eの結果を「web検索と think を駆使して「E2Eのエラー原因」を分析せよ。そして実装できるレベルで細かく修正案を設計せよ。」
3. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 「修正禁止コードについて」を確認せよ
4. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
5. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
   1. 「修正禁止コードについて」を確認せよ
6. [@.claude/agents/test-executor.md]で作成したテストを実行
   1. テスト実施し、エラーが発生した場合は2の「分析：」に戻って作業継続

**修正禁止コードについて**
- 変更禁止範囲: `tests/**`、`run-tests.sh`、テーマ配下 `package.json` の `scripts.e2e`
- 変更許容範囲: WordPress実装（`themes/**` の PHP/JS/CSS 他サイト挙動に関わるコード）のみ
- 例外（テスト側の変更）が必要と判断した場合: 理由＋最小差分案を提示し、承認が出るまで実施禁止

**検討、調査、分析は**
 [@.claude/agents/wordpress-php-test-designer.md]のエージェントに依頼し、web検索と think を駆使して回答させること

下記がやりたいことだが、これはやりすぎだろうか？
『設計、実装、レビュー、レビュー修正、テスト、テスト不具合修正設計、テスト不具合修正、テスト不具合修正のレビュー、テスト再実行』


このエージェントたちに作業をさせようと思っている「@.claude/agents/」
その場合の作業フローを作ってほしい。
例
```1. [@.claude/agents/wordpress-php-test-designer.md]のエージェントで実装設計して
1. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
2. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
3. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
4. [@.claude/agents/test-executor.md]で作成したテストを実行
```

いた方が良いエージェントがいない場合は、作業フローに記載し、報告してほしい（追加する）

小規模開発、大規模開発、バグ修正、原因調査、など、、他にもあれば教えてほしい。

ドキュメントに残してほしい



  コミットID:
  - 7d03097edaec395bbb768caf3e6bf782083cde30
  - f8e2762bc5acfc5a36056da06e5bb1b1513324e1
  - 59045e2eb53cf479c83fd4028a9b43a86b087969

  まずはこれらのコミットの内容を確認して、何が変更されたのかを調べる必要がある。

＝＝＝＝＝＝＝＝
1. 症状記録・再現手順の最小化（Document Manager）
   - `tasks/` に再現条件・期待値・実際値・発生頻度を記載。
2. 失敗テストの追加（Test Designer）
   - `wordpress-php-test-designer.md` で再現テストを先に用意。
3. 修正（Fullstack Developer）
   - 最小差分で修正。関連回帰のテストも追加。
4. レビュー（Code Review）
   - 再現→原因→対策→再発防止（テスト）を重視して確認。
5. テスト実行（Test Executor）
   - 追加テスト＋回帰テストを実行。必要に応じセキュリティ軽点検。


下記２つの不具合が発生しているので、{バグ修正の作業フロー}の通りに作業してほしい
- ワードプレスの「投稿」で記事を公開しようと「公開ボタンを押下」するとコンソールで下記のエラーメッセージが無限に表示される。
{
  - POST https://kei-aokiki.dev/wp-json/wp/v2/posts/19?_locale=user 403 (Forbidden)
  - GET https://kei-aokiki.dev/wp-json/wp/v2/block-patterns/patterns?_locale=user 403 (Forbidden)
}

- サイト表示すると全ての画面で下記エラーメッセージが表示される
{
  GET https://kei-aokiki.dev/wp-content/themes/kei-portfolio/assets/js/main.js?ver=1.0.0 net::ERR_ABORTED 403 (Forbidden)Understand this error

  A bad HTTP response code (404) was received when fetching the script.Understand this error
The script resource is behind a redirect, which is disallowed.
}
# バグ修正の作業フロー
1. 症状記録・再現手順の最小化（Document Manager）
   - `@.claude/agents/document-manager-ja.md` を用い、目的・範囲・受け入れ基準を `tasks/` に簡潔に作成。
2. 実装設計（Test Designer）
   - `@.claude/agents/wordpress-php-test-designer.md` で実装方針とテスト観点をthinkを使用して設計。
3. 実装（Fullstack Developer）
   - `@.claude/agents/wordpress-fullstack-developer.md` で小さなPR単位で実装。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
4. 実装後レビュー（Code Review）
   - `@.claude/agents/code-review-post-implementation.md` で差分レビュー。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
5. レビュー修正（Fullstack Developer）
   - 指摘反映とテスト追加。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
6. テスト実行（Test Executor）
   - `@.claude/agents/test-executor.md` で単体/結合/簡易受け入れを実行。








# 作業指示
## 役割
- あなたは全ての作業を管理するAI
- あなた自身は作業を実施せず、作業フローの記載の通りにエージェント呼び出しだけを実施せよ
## 要件
- e2eが正常終了するまでtest実行と調査、修正を繰り返してほしい。
  - e2e実行コマンド
    - BASE_URL=http://localhost:8090 ./run-tests.sh e2e

下記{作業フロー}の通りに作業せよ
## 作業フロー
- 実行: `test-executor` が `BASE_URL=http://localhost:8090 ./run-tests.sh e2e` 
を実行し、結果を tests/ に保存
- トリアージ: `document-manager-ja` が失敗整理と担当割り当て
- 修正: `wordpress-fullstack-developer` が最小修正＋必要テスト追加
- レビュー: `code-review-post-implementation` が差分レビュー（重大指摘あれば差戻
し）
- 外部調査: 必要時のみGemini CLIワークフローを使用

- 監査: `security-audit-post-development` が5項目チェック（合格で完了）
- 例外: 環境問題は `test-environment-docker-architect`、難案件は `wordpress-php-test-designer`

1.model: opus
2.model: sonnet
3.model: haiku

1. 症状記録・再現手順の最小化（Document Manager）
   - `@.claude/agents/document-manager-ja.md` を用い、目的・範囲・受け入れ基準を `tasks/` に簡潔に作成。
2. 実装設計（Test Designer）
   - `@.claude/agents/wordpress-php-test-designer.md` で実装計画とをthinkを使用して設計して。
3. 実装（Fullstack Developer）
   - `@.claude/agents/wordpress-fullstack-developer.md` で小さなPR単位で実装。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
4. 実装後レビュー（Code Review）
   - `@.claude/agents/code-review-post-implementation.md` で差分レビュー。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
5. レビュー修正（Fullstack Developer）
   - 指摘反映とテスト追加。
   - 「エージェントを複数起動し並列」で実装（最大10並列）
6. テスト実行（Test Executor）
   - `@.claude/agents/test-executor.md` で単体/結合/簡易受け入れを実行。￥





 E2Eテスト`BASE_URL=http://localhost:8090 ./run-tests.sh e2e`に失敗する。色々試しているが、原因が全然わからない。。
  コミットID:
  - 7d03097edaec395bbb768caf3e6bf782083cde30
 - f8e2762bc5acfc5a36056da06e5bb1b1513324e1
 - 59045e2eb53cf479c83fd4028a9b43a86b087969；
 - このあたりの修正をしてからエラーが発生するようになってる。今githubで修正状態になっているものはこの調査と修正をしているもので、変更してもらってもOK.画面起動でエラーになる原因をweb検索して特定してほしい。深く考えてほしい



1. [@themes/kei-portfolio/tests/e2e/結果_202508091454.json]の[consoleErrors]を解消してほしい。
  - まずは「 "http://localhost:8090/"」だけに集中してほしい。
2. 分析：[@.claude/agents/wordpress-php-test-designer.md]のエージェントでエラー内容を「gemini検索とweb検索と think を駆使して「エラー原因」を分析、特定せよ。そして実装できるレベルで細かく修正案を設計せよ。」
3. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
   1. 「修正禁止コードについて」を確認せよ
4. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
5. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
   1. 「修正禁止コードについて」を確認せよ
6. [@.claude/agents/test-executor.md]で作成したテストを実行
   1. テスト実施し、エラーが発生した場合は2の「分析：」に戻って作業継続
**修正禁止コードについて**
- 変更禁止範囲: `tests/**`、`run-tests.sh`、テーマ配下 `package.json` の `scripts.e2e`
- 変更許容範囲: WordPress実装（`themes/**` の PHP/JS/CSS 他サイト挙動に関わるコード）のみ
- 例外（テスト側の変更）が必要と判断した場合: 理由＋最小差分案を提示し、承認が出るまで実施禁止
**検討、調査、分析について**
 [@.claude/agents/wordpress-php-test-designer.md]のエージェントに依頼し、gemini検索とweb検索と think を駆使して回答させること


＝＝＝＝＝＝＝＝＝
0. ワードプレスの本番環境でブログ投稿しようと「公開ボタン」を押下するとコンソールで「api-fetch.min.js?ver=3623a576c78df404ff20:2  POST https://kei-aokiki.dev/wp-json/wp/v2/posts/20/autosaves?_locale=user 503 (Service Unavailable)」というエラーが発生。画面では「公開に失敗しました。 返答が正しい JSON レスポンスではありません。」と表示されている。実際のJSON[{"id":20,"title":"テスト","status":"publish","content":""}]
2. 分析：[@.claude/agents/wordpress-php-test-designer.md]のエージェントでエラー内容を「gemini検索とweb検索と think を駆使して「エラー原因」を分析、特定せよ。そして実装できるレベルで細かく修正案を設計せよ。」
3. 修正案に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
4. 修正案通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
5. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正
6. [@.claude/agents/test-executor.md]で作成したテストを実行

修正方針：[@tasks/本番環境ログ制御実装計画.md]
1. 修正方針に対して[@.claude/agents/wordpress-fullstack-developer.md]で実装
2. 修正方針通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
3. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正




- 「@tasks/スキルページ動的実装計画書.md」を確認したけど「熟練度（パーセンテージ）」は期間と回数の組み合わせで

 `@.claude/agents/wordpress-php-test-designer.md` で実装方針とテスト観点をthinkを使用して設計。
下記フローで対応して
1. 「@tasks/スキルページ動的実装計画書.md」の通りに[@.claude/agents/wordpress-fullstack-developer.md]で実装
2. 「@tasks/スキルページ動的実装計画書.md」の通りに実装しているか[@.claude/agents/code-review-post-implementation.md]でレビュー
3. レビュー結果に対して[@.claude/agents/wordpress-fullstack-developer.md]で修正



＝＝＝＝
